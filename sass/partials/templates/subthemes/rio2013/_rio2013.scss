@import "compass/utilities/general/clearfix";
@import "compass/css3";
@import "compass/css3/transition";
@import "compass/css3/box-shadow";
@import "compass/css3/transform";
@import "../../../mixins";
@import "../../palette";

$background-color: transparent;
$header-background-color: #ffee00;
$header-text-color: black;
$text-color: black;
$link-color: #331100;
$link-hover-color: #666;
$site-font: BureauGrotesque-ThreeSeven;
$rio2013-font-family: 'Open Sans', $base-font-family;
$font-weight: 100;

@mixin basic-link {
  background-color: inherit;
  color: $link-color;
}

@mixin basic-link-hover {
  @include basic-link;
  color: $link-hover-color;
}

body.rio2013 {
  position: relative;
  color: $text-color;
  font-family: $rio2013-font-family;
  font-weight: $font-weight;

  // full screen photo background
  // credits: http://css-tricks.com/perfect-full-page-background-image/,
  // http://css-tricks.com/snippets/css/transparent-background-images/
  &::after {
    background: url("http://files.lsecities.net/files/2013/05/IMAG0410_edited-1200x500-1024x426.jpg") no-repeat center center fixed;
    @include background-size(cover);
    opacity: 0.80;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: "";
    z-index: -1;
  }
  
  // TODO - just for testing: remove following ruleset when done with tests
  .heading-image {
    display: none;
  }
  
  #mailing-list-subscription {                                                                                                                                          
    display: none;                                                                                                                                                      
  }
  
  .reset-layout {
    clear: both;
    overflow: hidden;
  }
  
  #container {
    max-width: 960px;
    margin-left: auto;
    margin-right: auto;
    background: rgba(255, 255, 255, 1);
  }

  &.page-id-393 { // takeover of frontpage on lsecities.net
    #container {
      max-width: inherit;
    }
  }
  
  header {    
    &.entry-header {
      display: none;
      
      h1 {
        color: $link-color;
      }
    }
    
    h1, h2 {
      color: $link-color;
      font-weight: bold;
      font-size: 2em;
    }
  }
  
  #header, #footer {
    opacity: 0.90;
  }
  
  #header {
    background-color: $header-background-color;
    
    & > div {
      position: relative;
      @include center960;
    }
    
    .twitter-hashtag {
      position: absolute;
      top: 10%;
      line-height: 1em;
      right: 0;
      background-color: #555;
      padding: 0.2em 0.5em;
      border-radius: 0.2em;
      font-weight: bold;
      
      a, a:active, a:visited {
        color: $header-background-color;
      }
    }
  }
  
  #rio2013title {
    font-family: $site-font;
    letter-spacing: 2px;
    font-size: 3em;
    margin-bottom: 0.5em;
    text-transform: uppercase;
    
    a, a:active, a:hover, a:visited {
      color: $text-color;
    }
  }
  
  #level1nav, #level2nav {
    font-family: $site-font;
    letter-spacing: 1px;
  }
  
  #level2nav {
    background-color: transparent;
    
    ul {
      float: left;

      li {
        a:hover {
          @include basic-link-hover;
        }
      }
      
      li.current, li.current_page_item, li.current_page_ancestor, li.current_page_parent {
        background-color: inherit;
        
        a {
          @include basic-link;
          
          &:hover {
            @include basic-link-hover;
          }
        }
        
        &:hover {
          a {
            background-color: inherit;
            color: $link-hover-color;
          }
        }
      }
      
      li a {
        @include basic-link;
        padding-left: 0;
        padding-right: 1em;
        
        &:hover {
          @include basic-link-hover;
        }
      }
    }
  }
  
  #mainmenus {
    margin-bottom: 1em;
  }
  
  // MONKEYPATCH: this is only needed for tests
  #content article.sixcol {
    width: 74.05%;
  }
  
  // this is a workaround until we switch to a susy-style grid that does
  // not rely on elements' classes
  [role='main'] {
    padding-bottom: 10em;
    & > article.ninecol {
      width: 100%;
    }
  }
  // same as above (until we switch to a susy-style grid) but re
  // overflow
  [role='main'], #main {
    overflow: visible;
  }
  
  #contentarea {
    .top-content article header h1 {
      color: $link-color;
    }
    
    &.ninecol {
      width: 100%;
    }
    &>h1 {
      display:none;
    }
  }
  
  .entry-content {  
    h1, h2, h3 {
      font-weight: bold;
      margin-bottom: 0.5em;
    }
    
    ul {
      margin-bottom: 1em;
    }
  }
  
  .entry-content section, .extra-content > section, .extra-content > aside {
    & > header {
      border-top: 1px solid $link-color;
      
      & > h1 {
        color: $background-color;
        background-color: $link-color;
      }
    }
  }
  
  a, a:focus, a:active {
    color: $link-color;
  }
  
  a:hover {
    color: $link-hover-color;
  }
  
  #footer {
    background-color: $header-background-color;
    background-image: none;
    border-top: none;
    
    h1 {
      font-size: 1.4em;
      font-family: $site-font;
      text-transform: uppercase;
      color: black;
    }
    
    a, a:visited, a:active {
      color: $link-color;
    }
    
    a:hover {
      color: $link-hover-color;
    }
  }
  
  #navigationarea {
    display: none;
  }
  
  // Pods
  .lc-publication {
    #share-on-social-media {
      display: none;
    }
    
    #tableofcontents {
      &.publication-category-research-data {
        .articles {
          & > section {
            .article {
              margin-bottom: 4em !important;
              
              & > h1 {
                font-size: 2em;
                font-weight: bold;
              }
            }
          }
        }
      }
    }
  }
  
  .lc-event-programme {
    .entry-content {
      .sessiontype-session {
        .sessiontype-session, .sessiontype-panel, .sessiontype-discussion {
          & > header {
            border-top: none;
            border-bottom: 1px solid $link-color;
          }
        }
      }
      
      .sessiontype-presentation {
        header {
          border-top: none;
          
          h1 {
            color: $link-color;
            background-color: inherit;
            padding-left: 0;
          }
        }
      }
    }
  }
  
  .lc-newspaper-article {
    position: relative;
    
    header.heading-image {
      display: none;
    }
    
    header.entry-header {
      display: block;
    }

    #navigationarea {                                                                                                                                                   
      position: absolute;
      top: 0;
      right: 0;
      z-index: 3;
      display: inherit;

      img.show, img.hide {
        position: absolute;
        z-index: 4;
        right: 0;
        display: none;
      }
      
      img.show {
        display: inline;
      }                                                                                                                                                       

      #publication-side-toc {
        display: none;
        position: absolute;
        right: 15px;
        background: #EEE111;
        padding: 1em;
        width: 300px;
        top: -22px;
        z-index: 3;

        h1, li, a, a:hover, a:active, a:visited {
          color: black;
        }
        
        ul li {
          margin-bottom: 1em;
        }
        
        h1 {
          font-weight: bold;
          font-size: 1.5em;
        }                                                                                                                                                               
      }                                                                                                                                                                 

    }                                                                                                                                                                   
  }

  // plugins
  
  // jquery.hovercard plugin styles
  .lc-event-speaker-list {
    .speaker-card {
      @include box-shadow(none);
      background-color: #424242;
      color: white;
    }
  }
  
  // wordpress usernoise plugin styles
  #un-button {
    display: none;
  }
  
  // widgets
}
